# [Stephen Grider] Microservices with Node JS and React [ENG, 2020]

# 21. Handling Payments

<br/>

### 01. The Payments Service

<br/>

![Application](/img/pic-21-01.png?raw=true)

<br/>

### 02. Initial Setup

<br/>

### 03. Replicated Fields

<br/>

![Application](/img/pic-21-02.png?raw=true)

<br/>

![Application](/img/pic-21-03.png?raw=true)

<br/>

### 04. Another Order Model!

<br/>

### 05. Update-If-Current

    $ cd payments
    $ npm install --save mongoose-update-if-current

<br/>

### 06. Replicating Orders

<br/>

### 07. Testing Order Creation

    $ cd payments
    $ npm run test

<br/>

### 08. Marking an Order as Cancelled

<br/>

### 09. Cancelled Testing

<br/>

### 10. Starting the Listeners

```
CREATE TICKET
CREATE ORDER
```

<br/>

![Application](/img/pic-21-04.png?raw=true)

<br/>

![Application](/img/pic-21-05.png?raw=true)

<br/>

### 11. Payments Flow with Stripe

<br/>

![Application](/img/pic-21-06.png?raw=true)

<br/>

![Application](/img/pic-21-07.png?raw=true)

<br/>

### 12. Implementing the Create Charge Handler

<br/>

![Application](/img/pic-21-08.png?raw=true)

<br/>



<br/>

---

<br/>

**Marley**

Any questions on eng: https://jsdev.org/chat/  
Любые вопросы на русском: https://jsdev.ru/chat/
